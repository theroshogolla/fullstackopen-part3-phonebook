{"version":3,"sources":["components/AddForm.js","services/server_api.js","components/App.js","index.js"],"names":["Input","value","setter","onChange","event","target","AddForm","submitHandler","newNameState","newNumState","onSubmit","updater","type","baseUrl","fetchAll","axios","get","then","response","data","person","post","id","delete","Person","name","number","deleteFunc","onClick","ShowPersons","persons","map","key","Search","input","handler","Notification","message","error","notifStyle","backgroundColor","border","borderRadius","fontStyle","fontSize","padding","marginBottom","style","App","useState","setPersons","newName","setNewName","newNum","setNewNum","newSearch","setNewSearch","showAll","setShowAll","notif","setNotif","showPersons","filter","toLowerCase","includes","useEffect","phonebook_api","preventDefault","setTimeout","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3445c5dc.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Input = ({value, setter}) => <input value={value} onChange={(event) => setter(event.target.value)} />\nconst AddForm = ({submitHandler, newNameState, newNumState}) => {\nreturn(\n  <>\n  <h3>Add Person</h3>\n  <form onSubmit={submitHandler}>\n    <div>\n      name: <Input value={newNameState.value} setter={newNameState.updater} />\n    </div>\n    <div>\n      number: <Input value={newNumState.value} setter={newNumState.updater} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  </>\n  )\n}\n\nexport default AddForm\n","import axios from 'axios'\n\nconst baseUrl = 'api/persons'\nconst fetchAll = () => {\n  return axios\n         .get(baseUrl)\n         .then(response => response.data)\n}\n\nconst addToServer = (person) => {\n  return axios\n         .post(baseUrl, person)\n         .then(response => response.data)\n}\n\nconst updatePerson = (id, person) => {\n  return axios\n         .put(`${baseUrl}/${id}`, person)\n         .then(response => response.data)\n         .catch(error => {\n           console.log(error.response.status)\n           return error.response})\n}\n\nconst deletePerson = (id) => {\n  return axios\n         .delete(`${baseUrl}/${id}`)\n         .then(() => fetchAll())\n       }\n\n\nexport default {fetchAll, addToServer, updatePerson, deletePerson}\n","import React, { useState, useEffect } from 'react'\n\nimport AddForm from './AddForm'\nimport phonebook_api from '../services/server_api'\n\nconst Person = ({name, number, deleteFunc}) => {\n  return(\n    <>\n    <p>{name} {number}</p>\n    <button onClick={() => deleteFunc(name)}>delete</button>\n    </>\n  )\n}\nconst ShowPersons = ({persons, deleteFunc}) => {\n  return (<>\n    <h3>Numbers</h3>\n    {persons.map(({name, number}) => <Person key={name} name={name} number={number} deleteFunc={deleteFunc}/>)}\n    </>)\n}\n\nconst Search = ({input, handler}) => {\n  return(\n    <>\n    <strong>Search: </strong>\n    <input value={input} onChange={handler} />\n    </>\n  )\n}\n\nconst Notification = ({message, error}) => {\n  if(message === null)\n    return null\n  else {\n    const successStyle = {\n      backgroundColor: '#86868F',\n      border: 'solid #31C423',\n      borderRadius: 30,\n      fontStyle: 'italic',\n      fontSize: '20px',\n      padding: '10px',\n      marginBottom: '10px'\n    }\n\n    const errorStyle = {\n      backgroundColor: '#86868F',\n      border: 'solid #F20505',\n      borderRadius: 30,\n      fontStyle: 'italic',\n      fontSize: '20px',\n      padding: '10px',\n      marginBottom: '10px'\n    }\n\n    const notifStyle = error? errorStyle : successStyle\n    return (\n      <div style={notifStyle}>\n      {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [notif, setNotif] = useState(null)\n  const [error, setError] = useState(false)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      id: newName,\n      name: newName,\n      number: newNum\n    }\n      phonebook_api\n      .addToServer(newPerson)\n        .then(data => {\n          setPersons([...persons, data])\n          setNotif(`${newName} was successfully added to phonebook`)\n          setNewName('')\n          setNewNum('')\n          setTimeout(() => {\n            setNotif(null)\n          }, 3000)\n          })\n  }\n\n\n  const handleDelete = (id) => {\n      const result = window.confirm(`Are you sure you want to delete ${id} from the phonebook?`)\n      if(result) {\n        phonebook_api\n        .deletePerson(id)\n          .then(data => {\n                setPersons(data)\n                })\n      }\n  }\n\n\n  const handleSearch = (event) => {\n    setShowAll(event.target.value === '')\n    setNewSearch(event.target.value)\n  }\n  const showPersons = showAll ? persons : persons.filter(({name}) => name.toLowerCase().includes(newSearch.toLowerCase()))\n\n  useEffect(() => {\n    phonebook_api\n    .fetchAll()\n    .then((data) => {\n      setPersons(data)\n    })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notif} error={error} />\n      <Search input={newSearch} handler={handleSearch}/>\n      <AddForm submitHandler={addPerson} newNameState={{value: newName, updater: setNewName}} newNumState={{value: newNum, updater: setNewNum}} />\n      <ShowPersons persons={showPersons} deleteFunc={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}